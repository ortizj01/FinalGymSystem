<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Servicios</title>
    <!-- Cargar archivos CSS necesarios -->
    <link rel="stylesheet" href="path/to/your/css/styles.css">
    <link rel="stylesheet" href="path/to/font-awesome/css/all.min.css">
    <style>
       .formulario__grupo {
    position: relative;
    margin-bottom: 15px;
}

.formulario__grupo-input {
    position: relative;
}

.formulario__validacion-estado {
    position: absolute;
    top: 50%;
    right: 10px;
    transform: translateY(-50%);
    font-size: 16px;
}

.formulario__input-error {
    font-size: 14px;
    display: none;
}

.formulario__grupo-incorrecto .formulario__input-error {
    display: block;
}

.formulario__grupo-correcto .formulario__input-error {
    display: none;
}

.formulario__grupo-correcto i {
    color: green;
}

.formulario__grupo-incorrecto i {
    color: red;
}


    </style>
    <link rel="stylesheet" href="../assets/css/Productos.css" />

    <!-- Cargar el script getServicios.js -->
    <script src="getServicios.js" defer></script>
</head>
<body>

<!-- Incluir tu header, sidebar, topbar u otros componentes según tu diseño -->
{{> header}}
{{> sidebar}}
{{> topbar}}

<!-- Contenido principal -->
<div class="container-fluid content-inner">
    <div class="card-header py-2">
        <h2 class="m-2 font-weight-bold text-primary">Gestión de Servicios</h2>
    </div>
    <div class="container-fluid">
        <!-- DataTables Example -->
        <div class="card shadow mb-4">
            <div class="card-body">
                <div class="table-responsive">
                    <div id="dataTable_wrapper" class="dataTables_wrapper dt-bootstrap4">
                        <div class="card-header py-3 d-flex justify-content-between">
                            <div class="d-flex">
                                <!-- Aquí podrías añadir filtros u otros controles si es necesario -->
                            </div>
                            <div class="footer-buttons mt-1">
                                <button type="button" class="btn btn-primary float-end me-2" data-bs-toggle="modal" data-bs-target="#crearServicioModal">
                                    Agregar Servicio +
                                </button>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-sm-12">
                                <table class="table table-bordered dataTable" id="dataTable" width="100%"
                                    cellspacing="0" role="grid" aria-describedby="dataTable_info">
                                    <thead>
                                        <tr role="row">
                                            <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1"
                                                colspan="1" aria-label="Nombre Clase: activate to sort column ascending"
                                                style="width: 150px;">Nombre Clase</th>
                                            <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1"
                                                colspan="1" aria-label="Estado: activate to sort column ascending"
                                                style="width: 100px;">Estado</th>
                                            <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1"
                                                colspan="1" aria-label="Acciones: activate to sort column ascending"
                                                style="width: 150px;">Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody id="dataTableBody">
                                        <!-- Aquí se insertarán los datos de los servicios obtenidos desde la API -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div> 
    </div>
</div>
<!-- Fin del contenido principal -->

<!-- Modal para Crear Servicio -->
<div class="modal fade" id="crearServicioModal" tabindex="-1" aria-labelledby="crearServicioModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="crearServicioModalLabel">Crear Nuevo Servicio</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
      </div>
      <div class="modal-body">
        <form id="FormularioServicios">
          <div class="col-md-6 formulario__grupo" id="grupo__NombreClase">
            <div class="form-group">
              <label class="form-label">Nombre de Clase*</label>
              <div class="formulario__grupo-input">
                <input type="text" class="form-control" id="nombreClase" name="NombreClase" placeholder="Nombre de Clase" required />
                <i class="formulario__validacion-estado fas fa-times-circle"></i>
              </div>
              <p class="formulario__input-error">Nombre de clase no válido. Debe contener al menos 5 caracteres.</p>
            </div>
          </div>
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
            <button type="submit" class="btn btn-primary">Guardar</button>

        </form>
      </div>
    </div>
  </div>
</div>


<!-- Modal para Editar Servicio -->
<div class="modal fade" id="editarServicioModal" tabindex="-1" aria-labelledby="editarServicioModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="m-0 font-weight-bold text-primary">Editar Servicio</h3>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Cerrar"></button>
            </div>
            <div class="modal-body">
                <form id="editarServicioForm">
                    <input type="hidden" id="editServicioId" name="IdServicio">

                    <!-- Nombre de Clase -->
                    <div class="col-md-6 formulario__grupo" id="grupo__editNombreClase">
                        <div class="form-group">
                            <label class="form-label">Nombre Clase*</label>
                            <div class="formulario__grupo-input">
                                <input type="text" class="form-control" id="editNombreClase" name="NombreClase" placeholder="Nombre de Clase" required />
                                <i class="formulario__validacion-estado fas fa-times-circle"></i>
                            </div>
                            <p class="formulario__input-error">Nombre de clase no válido. Debe contener al menos 5 caracteres.</p>
                        </div>
                    </div>

                    <!-- Estado -->
                    <div class="col-md-6 formulario__grupo" id="grupo__editEstado">
                        <div class="form-group">
                            <label class="form-label">Estado*</label>
                            <div class="formulario__grupo-input">
                                <select id="editEstado" name="Estado" class="form-select" required>
                                    <option value="1">Activo</option>
                                    <option value="0">Inactivo</option>
                                </select>
                                <i class="formulario__validacion-estado fas fa-times-circle"></i>
                            </div>
                            <p class="formulario__input-error">Por favor selecciona un estado.</p>
                        </div>
                    </div>

                    <!-- Botones -->
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="submit" class="btn btn-primary">Actualizar</button>

                </form>
            </div>
        </div>
    </div>
</div>




<!-- Modal para Ver Detalle Servicio -->
<div class="modal fade" id="verDetalleServicio" tabindex="-1" aria-labelledby="verDetalleServicioLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="m-0 font-weight-bold text-primary">Detalles del Servicio</h3>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p id="detalleServicioNombre">Nombre Clase: </p>
                <p id="detalleServicioEstado">Estado: </p>
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
            </div>
        </div>
    </div>
</div>

<!-- Incluir footer y otros componentes finales -->
<footer class="footer">
    {{> copyright}}
</footer>

<!-- Cargar el script postServicios.js -->
<script src="../assets/js/postServicios.js" defer></script>
<script src="../assets/js/formServicios.js" defer></script>

{{> footer}}

<!-- Scripts adicionales, si es necesario -->
</body>
</html>
